<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Adobe FRL Proxy by dmeservices</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Adobe FRL Proxy</h1>
        <p>FRL-Online proxy for clients on isolated networks</p>

        <p class="view"><a href="https://git.corp.adobe.com/dmeservices/frl-proxy">View the Project on GitHub <small>dmeservices/frl-proxy</small></a></p>


      </header>
      <section>
        <h1>
<a id="frl-proxy" class="anchor" href="#frl-proxy" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>frl-proxy</h1>
<p>Reverse proxy solution for customers using FRL-Online on isolated networks.</p>
<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h2>
<pre><code>frl-proxy 0.4.0
FRL Proxy

USAGE:
    frl-proxy.exe &lt;SUBCOMMAND&gt;

FLAGS:
    -h, --help       Prints help information
    -V, --version    Prints version information

SUBCOMMANDS:
    help           Prints this message or the help of the given subcommand(s)
    init-config    Create a template config file
    start          Start the proxy server
</code></pre>
<h3>
<a id="start" class="anchor" href="#start" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><code>start</code>
</h3>
<p>Start the proxy. By default, it will run a plain HTTP server listening on <code>127.0.0.1:3030</code>, forwarding to <code>https://lcs-cops.adobe.io</code>.</p>
<pre><code>frl-proxy.exe-start 0.4.0
Start the proxy server

USAGE:
    frl-proxy.exe start [FLAGS] [OPTIONS]

FLAGS:
    -h, --help       Prints help information
        --ssl
    -V, --version    Prints version information

OPTIONS:
    -c, --config-file &lt;config-file&gt;
        --host &lt;host&gt;
        --remote-host &lt;remote-host&gt;
        --ssl-cert &lt;ssl-cert&gt;
        --ssl-key &lt;ssl-key&gt;
</code></pre>
<h3>
<a id="init-config" class="anchor" href="#init-config" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><code>init-config</code>
</h3>
<p>Initialize a config file template. The config file is optional. It is used to define proxy defaults (host, remote host, ssl settings) and to
override logging defaults.</p>
<p>The <code>-o/--out-file</code> option defines the path to the new config file. By default, the file will be named <code>config.toml</code> and be placed in the
current working directory.</p>
<pre><code>frl-proxy.exe-init-config 0.4.0
Create a template config file

USAGE:
    frl-proxy.exe init-config [OPTIONS]

FLAGS:
    -h, --help       Prints help information
    -V, --version    Prints version information

OPTIONS:
    -o, --out-file &lt;out-file&gt;     [default: config.toml]
</code></pre>
<h2>
<a id="building-and-running" class="anchor" href="#building-and-running" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Building and Running</h2>
<p>To build the proxy application, make sure you have the <a href="https://rustup.rs/">Rust toolchain</a> installed on your system.</p>
<p>Then, from a terminal, clone this project.</p>
<pre><code>$ git clone git@git.corp.adobe.com:dmeservices/frl-proxy.git
$ cd frl-proxy
</code></pre>
<h3>
<a id="running-with-cargo" class="anchor" href="#running-with-cargo" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Running with Cargo</h3>
<p>To run the proxy application, invoke <code>cargo run</code>. This installs dependencies, compiles, links, assembles and runs the executable.</p>
<pre><code>$ cargo run -- start
</code></pre>
<p>Any commands or options specified after the <code>--</code> will be sent to the proxy application. For example, to start the proxy with a different host:</p>
<pre><code>$ cargo run -- start --host 0.0.0.0:8080
</code></pre>
<p>The first time you invoke <code>cargo run</code> it will take some time to install and build all dependencies. Subsequent <code>cargo run</code> invocations will skip the build and run the binary.</p>
<h3>
<a id="building" class="anchor" href="#building" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Building</h3>
<p>Build the proxy application with <code>cargo build</code>. Once the build process completes, the <code>frl-proxy</code> binary can be found in the <code>target/debug</code> directory.</p>
<p>The proxy can also be built for release (which creates and optimized binary) with <code>cargo build --release</code>. This binary can be found in <code>target/release</code>.</p>
<h3>
<a id="buliding-on-ubuntu" class="anchor" href="#buliding-on-ubuntu" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Buliding on Ubuntu</h3>
<p>Ubuntu requires a few system packages to be installed in order to build the application.</p>
<pre><code>$ sudo apt install -y build-essential openssl-dev pkg-config
</code></pre>
<p>NOTE: This is known to be sufficient for Ubuntu 18.04, but should also work for Debian and other Debian variants.</p>
<h3>
<a id="buliding-on-centos" class="anchor" href="#buliding-on-centos" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Buliding on CentOS</h3>
<p>CentOS/RHEL also requires some system packages before the application can be built.</p>
<pre><code>$ sudo yum install -y gcc openssl-devel
</code></pre>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://git.corp.adobe.com/dmeservices">dmeservices</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
